<form [formGroup]=impuntuacionPresupuestal>
    <h6 class="text-white bg-primary d-inline-block p-2 px-4 rounded">
        Imputación Presupuestal
    </h6>
    <div class="row">
        <div class="col-md-10">
            <button #btnHistorial class="btn btn-primary-700 w-100" type="button" data-toggle="collapse"
                data-target="#collapseHistorialOrdenes" aria-expanded="false" aria-controls="collapseHistorialOrdenes"
                (click)="mostrarOcultarHistoria(btnHistorial.getAttribute('aria-expanded'))">
                Historial de órdenes de pago
            </button>
        </div>
        <div class="col-md-2">
            <button class="btn btn-primary text-white w-100" type="button" data-toggle="collapse"
                data-target="#collapseHistorialOrdenes" aria-expanded="false" aria-controls="collapseHistorialOrdenes"
                (click)="mostrarOcultarHistoria(btnHistorial.getAttribute('aria-expanded'))">
                <i class="fas {{mostrarOcultarIcono}}"></i>
                {{mostrarOcultar}}
            </button>
        </div>
    </div>
    <div class="collapse" id="collapseHistorialOrdenes">
        <div class="container pt-2">
            <ngx-general-table [config]="configTableHistorial" [datos]="datosTableHistorial"></ngx-general-table>
        </div>
    </div>
    <div class="row border-top border-primary mx-1 my-3"></div>
    <div class="row">
        <div class="col-md-3 form-group">
            <label for="disponibilidad">Disponibilidad</label>
            <select class="form-control" id="disponibilidad">
                <option selected disabled>Elegir...</option>
                <option value="111">111</option>
                <option value="222">222</option>
            </select>
        </div>
        <div class="col-md-3 form-group">
            <label for="registro">Registro</label>
            <select class="form-control" id="registro">
                <option selected disabled>Elegir...</option>
                <option value="123456">123456</option>
                <option value="789001">789001</option>
            </select>
        </div>
        <div class="col-md-6 form-group">
            <label for="codigo">Código</label>
            <input type="text" class="form-control" id="codigo" disabled>
        </div>
    </div>
    <div class="row">
        <div class="col-md-8 form-group">
            <label for="nombre">Nombre</label>
            <input type="text" class="form-control" id="nombre" disabled>
        </div>
        <div class="col-md-4 form-group">
            <label for="valorAplicacion">Valor Aplicación (Gasto)</label>
            <input currencyMask class="form-control" id="valorAplicacion">
        </div>
    </div>
    <div class="row justify-content-end">
        <div class="col-md-2">
            <button class="btn btn-primary text-white w-100" type="button" (click)="agregar()">
                <i class="fas fa-plus"></i> Agregar
            </button>
        </div>
    </div>
    <div id="tablaImputacion" class="container pt-1 px-0">
        <ngx-general-table [config]="configTableImpuntuacion" [datos]="datosTableImputacion"></ngx-general-table>
    </div>
    <div class="row form-group justify-content-md-center">
        <div class="col-md-2 d-flex align-items-center"><label class="m-0 ml-auto" for="valorTotal">Valor Total</label>
        </div>
        <div class="col-md-4">
            <input class="form-control" id="valorTotal" disabled value="{{totalGasto|currency}}">
        </div>
    </div>
    <ng-template #eliminarModal let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Borrar</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            ¿Desea borrar el registro?
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cancelar</button>
            <button type="button" class="btn btn-danger" (click)="modal.close(true)">Borrar</button>
        </div>
    </ng-template>
    <ng-template #fuentesFinanciamientoModal let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Fuentes de financiamiento</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <ngx-general-table [config]="configTableFuentes" [datos]="datosTableFuentes"></ngx-general-table>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="modal.close()">Cerrar</button>
        </div>
    </ng-template>

    <div class="container">
        <div class="row pt-2 text-center">
            <div class="col-md-6">
                <button mat-button matStepperPrevious class="btn btn-primary text-white m-0 mt-4">Regresar</button>
            </div>
            <div class="col-md-6 form-group">
                <button mat-button matStepperNext type="submit" class="btn btn-success m-0 mt-4">Siguiente</button>
            </div>
        </div>
    </div>
</form>